### Kubernetes Operators: 

В этом сценарии будет представлен [Kubernetes Operators](https://www.openshift.com/learn/topics/operators).

### Openshift Operators(AMQ Streams) & Openshift Operators(Jaeger)

С массовым внедрением **Apache Kafka** предприятия ищут способ репликации данных на различными сайтами. 
**Kafka** сам по себе имеет свой собственный механизм внутренней репликации и самовосстановления, 
который актуален только для локального кластера и не может **tolerate a whole site failure**. 
Решением для этого является функция **“Mirror Maker”** , с этой возможностью ваш локальный кластер Kafka может быть асинхронно реплицирован в другой **external/central** кластер Kafka, который находится в совершенно другом месте, чтобы сохранить ваши **data pipelines**, **log collection** и сбора метрик **metrics gathering processes**.

**“Mirror Maker”** соединяет два кластера, поскольку один из них является кластером потребителей **consumer cluster**, а другой - производителем **producer cluster**. 
** Topics** реплицируются как логическая сущность **logic entity** со всем, что у них есть в хранилище, в целевой кластер **target cluster**, где приложение может потреблять **consume** передаваемые данные. **Mirror Maker** может быть масштабируемым по горизонтали **horizontally scalable**, что означает, что его можно масштабировать, когда он является узким местом **bottleneck**.


В этой статье мы будем использовать оператор **AMQ Streams** для развертывания **Kafka** в растянутом кластере **stretched Openshift cluster** (где узлы расположены на разных сайтах), и мы отразим **mirror** все сообщения, которые записываются в исходный кластер **source cluster**, в целевой кластер **target cluster** с помощью функции **“Mirror Maker”**. Кроме того, мы будем использовать **OCS RBD** для сохранения **Kafka logDirs**, чтобы убедиться, что **OCS** не зависит от топологии и может обслуживать узлы из разных зон в одном кластере.

В конце концов, мы проследим время отклика **response time** всего конвейера с помощью **Jaeger**, где мы сможем увидеть время отклика  **response time** для каждого компонента в конвейере репликации **replication pipeline**.

### Prerequisites
- Растянутый кластер **stretched Openshift 4.5**
- Кластер **OCS 4.5**, выступающий в качестве платформы хранения
- **OCS RBD** как класс хранилища по умолчанию