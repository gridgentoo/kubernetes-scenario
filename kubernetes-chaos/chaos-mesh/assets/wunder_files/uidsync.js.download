!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=11)}([function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(){this.version="0.0.21",this.logging=!1,this.loggerLabel="uuid_client",this.uuidCookieName="firstpartyuid",this.maxConcurrentRequests=6,this.cookieCheckPath="/uidcheck.html",this.crossDomainOriginParam="uuid_origin",this.crossDomainReadyParam="uuid_ready",this.crossDomainRequestParam="uuid_request",this.crossDomainResponseParam="uuid_response",this.cookieExpireSeconds=31536e4,this.cookieCollectNames=["WMUKID","UUID"],this.xandrUrl="https://ib.adnxs.com/uid",this.cookieRefreshMilliseconds=216e5,this.friendCheckTimeout=5e3,this.friendDomains=[{domain:"cdn.cnn.com",cookieCheckPath:"/analytics/cnn/uidcheck.html"},{domain:"bleacherreport.com",cookieCheckPath:"/uidcheck"},{domain:"www.warnermediaprivacy.com",cookieCheckPath:"/uidc.html"},{domain:"www.att.com",cookieCheckPath:"/scripts/goldeneye/uidcheck.html"},{domain:"i.cdn.tbs.com",cookieCheckPath:"/assets/staticfiles/uidcheck.html"},{domain:"i.cdn.tntdrama.com",cookieCheckPath:"/assets/staticfiles/uidcheck.html"},{domain:"i.cdn.trutv.com",cookieCheckPath:"/assets/staticfiles/uidcheck.html"},{domain:"www.adultswim.com",cookieCheckPath:"/uidc.html"},{domain:"acdn.adnxs.com",cookieCheckPath:"/dmp/firstpartyuid/uidcheck.html"}],this.allowedCheckDomains=["cnn.com","bleacherreport.com","adnxs.com","att.com","warnermediaprivacy.com","atttvnow.com","directv.com","tbs.com","tntdrama.com","trutv.com","adultswim.com"]}return e.prototype.applyConfig=function(e){for(var t in this)this.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(this[t]=e[t])},e}();t.UUIDConfig=o,t.config=new o},function(e,t,n){"use strict";var o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};t.__esModule=!0;var r=n(0),a=function(){function e(){}return e.prototype.prefix=function(){return r.config.loggerLabel?"("+r.config.loggerLabel+") ":""},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emitLog("log",e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emitLog("warn",e,t)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emitLog("info",e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emitLog("error",e,t)},e.prototype.emitLog=function(e,t,n){var o;r.config.logging&&(o=window.console)[e].apply(o,i([""+this.prefix()+t],n))},e}();t.ConsoleLogger=a,t.logger=new a},function(e,t,n){"use strict";t.__esModule=!0,t.getSecondLevelDomain=function(e){var t=e.split(".");return t.slice(t.length-2).join(".")}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(2),i=n(0),r=n(1);function a(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}function c(e,t,n,i){void 0===i&&(i="/");var r=new Date;r.setTime(r.getTime()+1e3*n);var a=o.getSecondLevelDomain(window.location.hostname),c=null===n?"":";expires="+r.toUTCString();document.cookie=e+"="+t+";domain="+a+";secure;SameSite=None;path="+i+c}t.readCookie=a,t.writeCookie=c,t.readFirstPartyData=function(){try{var e=a(i.config.uuidCookieName);if(e)return JSON.parse(e)}catch(e){r.logger.error("Failed parsing "+i.config.uuidCookieName+" cookie")}},t.writeFirstPartyData=function(e,t){try{var n=JSON.stringify({id:e,timestamp:t});c(i.config.uuidCookieName,n,i.config.cookieExpireSeconds)}catch(e){r.logger.error("Failed writing "+i.config.uuidCookieName)}}},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var o=n(17);t.generateUUID=function(){return o.v4()},t.isValidUUID=function(e){return/^[a-f\d]{8}(-[a-f\d]{4}){4}[a-f\d]{8}$/i.test(String(e))}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,i=n;return[i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]]].join("")}},function(e,t,n){"use strict";(function(e){var o=n(4),i=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function a(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void f(t.promise,e)}s(t.promise,o)}else(1===e._state?s:f)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void h((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){f(e,t)}var o,i}function f(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,f(t,e))}))}catch(e){if(n)return;n=!0,f(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(a);return u(this,new d(e,t,n)),n},c.prototype.finally=o.a,c.all=function(e){return new c((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var c=r.then;if("function"==typeof c)return void c.call(r,(function(t){a(e,t)}),n)}o[e]=r,0==--i&&t(o)}catch(e){n(e)}}for(var c=0;c<o.length;c++)a(c,o[c])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=e.length;o<i;o++)c.resolve(e[o]).then(t,n)}))},c._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=c}).call(this,n(13).setImmediate)},,function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0,n(12);var i=n(0),r=n(1),a=n(16);try{var c=(window&&window.uuidClient||{}).config,u=void 0===c?{}:c;i.config.applyConfig(u),window.uuidClient=window.uuidClient||{},window.uuidClient.config=o({},i.config),r.logger.info("Create uuid client with config:",i.config),(new a.default).init().catch((function(e){return r.logger.error("Init failed",e)}))}catch(e){r.logger.error("Setup failed",e)}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(9),o=n(4),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in i?i.Promise.prototype.finally||(i.Promise.prototype.finally=o.a):i.Promise=t.a}.call(this,n(5))},function(e,t,n){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(14),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,i,r,a,c,u=1,s={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){m(e.data)},o=function(e){r.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,o=function(e){var t=l.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),o=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return s[u]=i,o(u),u++},d.clearImmediate=h}function h(e){delete s[e]}function m(e){if(f)setTimeout(m,0,e);else{var t=s[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(15))},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var u,s=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?s=u.concat(s):l=-1,s.length&&h())}function h(){if(!f){var e=c(d);f=!0;for(var t=s.length;t;){for(u=s,s=[];++l<t;)u&&u[l].run();l=-1,t=s.length}u=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}};t.__esModule=!0;var r=n(0),a=n(3),c=n(6),u=n(1),s=n(20),f=n(21),l=n(22),d=function(){function e(){}return e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e,t,n,o,l,d;return i(this,(function(i){switch(i.label){case 0:return[4,f.whenDocumentReady()];case 1:return i.sent(),(e=a.readFirstPartyData())?(t=e.id,n=e.timestamp,u.logger.info("Valid "+r.config.uuidCookieName+" found on current domain: "+t),n+r.config.cookieRefreshMilliseconds<(new Date).getTime()?(u.logger.info("Refreshing "+r.config.uuidCookieName+" after "+r.config.cookieRefreshMilliseconds+" milliseconds"),this.persistUuid(t,!0)):a.writeFirstPartyData(t,n),[3,4]):[3,2];case 2:return u.logger.info("No "+r.config.uuidCookieName+" found on current domain. Checking friend domains..."),[4,s.processDomainList()];case 3:(o=i.sent())?(d=o.uuid,l=o.domain,u.logger.info("Found "+r.config.uuidCookieName+": "+d+" on domain: "+l),this.persistUuid(d)):(u.logger.info("No "+r.config.uuidCookieName+" found on friend domains"),d=c.generateUUID(),u.logger.info("Setting generated "+r.config.uuidCookieName+": "+d),this.persistUuid(d)),i.label=4;case 4:return[2]}}))}))},e.prototype.persistUuid=function(e,t){a.writeFirstPartyData(e,(new Date).getTime()),l.submitClientData(e,t)},e}();t.default=d},function(e,t,n){var o=n(18),i=n(19),r=i;r.v1=o,r.v4=i,e.exports=r},function(e,t,n){var o,i,r=n(7),a=n(8),c=0,u=0;e.exports=function(e,t,n){var s=t&&n||0,f=t||[],l=(e=e||{}).node||o,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var h=r();null==l&&(l=o=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:u+1,g=m-c+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||m>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,u=p,i=d;var v=(1e4*(268435455&(m+=122192928e5))+p)%4294967296;f[s++]=v>>>24&255,f[s++]=v>>>16&255,f[s++]=v>>>8&255,f[s++]=255&v;var y=m/4294967296*1e4&268435455;f[s++]=y>>>8&255,f[s++]=255&y,f[s++]=y>>>24&15|16,f[s++]=y>>>16&255,f[s++]=d>>>8|128,f[s++]=255&d;for(var w=0;w<6;++w)f[s+w]=l[w];return t||a(f)}},function(e,t,n){var o=n(7),i=n(8);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[r+c]=a[c];return t||i(a)}},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}};t.__esModule=!0;var a=n(1),c=n(0),u=n(6),s=n(2),f={};function l(e,t){var n=location.origin,o=""+e+t+"?"+c.config.crossDomainOriginParam+"="+n;return new Promise((function(t,n){a.logger.info("Checking domain: "+e);var i=document.createElement("iframe");i.setAttribute("style","width:1px;height:1px;position:absolute;left:-99px;top:-99px;"),i.setAttribute("src",o),document.body.appendChild(i);var r=setTimeout((function(){!function(e){delete f[e]}(e),n(new Error("Timed out after "+c.config.friendCheckTimeout+" milliseconds"))}),c.config.friendCheckTimeout);!function(e,t){f[e]=t}(e,(function(n){String(n.data)===c.config.crossDomainReadyParam?i.contentWindow.postMessage(c.config.crossDomainRequestParam,e):0===String(n.data).indexOf(c.config.crossDomainResponseParam)&&(a.logger.info("Received iframe message from domain: "+e+", data: "+n.data),clearTimeout(r),r=void 0,t(n.data.split(":")[1]))}))}))}function d(e){Object.keys(f).forEach((function(t){t===e.origin&&f[t](e)}))}function h(){f={},window.removeEventListener("message",d),window.addEventListener("message",d)}t.processDomainList=function(){var e=this,t=!1,n=location.origin,f=c.config.friendDomains.filter((function(e){var t=e.domain,o=s.getSecondLevelDomain(t);return n.indexOf(o)<0})).map((function(e){return o(o({},e),{domain:"https://"+e.domain})}));return h(),new Promise((function(n){return i(e,void 0,void 0,(function(){function e(o){var s=this;if(!t)return Promise.all(o.map((function(o){var d=o.domain,h=o.cookieCheckPath,m=void 0===h?c.config.cookieCheckPath:h;return i(s,void 0,void 0,(function(){var o,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,l(d,m)];case 1:return o=r.sent(),u.isValidUUID(o)&&!t&&(t=!0,n({domain:d,uuid:o})),[3,3];case 2:return i=r.sent(),a.logger.warn("Failed calling domain: "+d+" - "+i.message),[3,3];case 3:return[2,e(f.splice(0,1))]}}))}))})))}return r(this,(function(o){switch(o.label){case 0:return[4,e(f.splice(0,c.config.maxConcurrentRequests))];case 1:return o.sent(),t||n(),[2]}}))}))}))}},function(e,t,n){"use strict";t.__esModule=!0,t.whenDocumentReady=function(){return new Promise((function(e){var t=function(){document.body?e():window.requestAnimationFrame(t)};t()}))}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};t.__esModule=!0;var c=n(0),u=n(3),s=n(1),f=n(23);t.submitClientData=function(e,t){return o(this,void 0,void 0,(function(){var n,o,r,l;return i(this,(function(i){switch(i.label){case 0:return c.config.xandrUrl?[4,f.getConsentData()]:(s.logger.warn("Missing Xandr URL"),[2]);case 1:return n=i.sent().consentString,o=c.config.cookieCollectNames.reduce((function(e,t){var n=u.readCookie(t);return n?(s.logger.debug("Collect Cookie - Name:",t,", Value:",n),a(e,[t+"="+n])):e}),[]),r=a([c.config.uuidCookieName+"="+e,"domain="+window.location.host,"r="+(t?1:0),n?"gdpr_consent="+n:""],o).filter(Boolean),l=c.config.xandrUrl+"?"+r.join("&"),(new Image).src=l,[2]}}))}))}},function(e,t,n){"use strict";t.__esModule=!0;t.getConsentData=function(){return new Promise((function(e){var t=function(t,o){clearTimeout(n),e({consentString:t,disableRequest:o})},n=setTimeout(t,100);try{if(window.__tcfapi){var o=function(e){var n;t(e.tcString,!(!(n=e)||!n.purpose||!n.purpose.consents||!0===n.purpose.consents[1])),window.__tcfapi("removeEventListener",2,(function(){}),o)};window.__tcfapi("addEventListener",2,o)}else window.__cmp?window.__cmp("getConsentData",null,(function(e){var n=e.consentData;t(n)})):t()}catch(e){t()}}))}}]);